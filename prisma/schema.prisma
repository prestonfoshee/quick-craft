// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  // NOTE: You probably want to change this to another database later on
  provider = "sqlite"

  // This value is read from the .env file.
  url = env("DATABASE_URL")
}

model Example {
  id      String @id @default(uuid())
  details String
}

model Item {
  item_id          Int                @id
  name             String
  display_name     String
  stackSize        Int
  RecipeIngredient RecipeIngredient[]
}

model Recipe {
  recipe_id       Int                @id @default(autoincrement())
  result_item_id  Int
  result_quantity Int
  ingredients     RecipeIngredient[]
  RecipeShape     RecipeShape[]
}

model RecipeIngredient {
  id                 Int    @id @default(autoincrement())
  recipe_id          Int
  ingredient_item_id Int
  position_x         Int
  position_y         Int
  recipe             Recipe @relation(fields: [recipe_id], references: [recipe_id])
  item               Item   @relation(fields: [ingredient_item_id], references: [item_id])
}

model RecipeShape {
  id         Int    @id @default(autoincrement())
  recipe_id  Int
  position_x Int
  position_y Int
  recipe     Recipe @relation(fields: [recipe_id], references: [recipe_id])
}
